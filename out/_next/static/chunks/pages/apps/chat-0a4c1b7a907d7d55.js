(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5099],{42427:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/chat",function(){return r(77228)}])},90934:function(e,t,r){"use strict";var s=r(85893),a=r(67294),n=r(84808),o=r(87357);let i=e=>{let{sx:t,show:r,direction:i,children:l,hideBackdrop:c,onOpen:d,onClose:x,backDropClick:h}=e,p=()=>{h&&h()};return(0,a.useEffect)(()=>{r&&d&&d(),!1===r&&x&&x()},[x,d,r]),(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(o.Z,{sx:{top:0,height:"100%",zIndex:"drawer",position:"absolute",transition:"all 0.25s ease-in-out",backgroundColor:"background.paper",...r?{opacity:1}:{opacity:0},..."right"===i?{left:"auto",right:r?0:"-100%"}:{right:"auto",left:r?0:"-100%"},...t},children:l}),c?null:(0,s.jsx)(n.Z,{open:r,transitionDuration:250,onClick:p,sx:{position:"absolute",zIndex:e=>e.zIndex.drawer-1}})]})};t.Z=i,i.defaultProps={direction:"left"}},34167:function(e,t,r){"use strict";r.d(t,{N:function(){return i},mf:function(){return o},oS:function(){return a},tE:function(){return l}});let s=e=>{let t=new Date;return new Date(e).getDate()===t.getDate()&&new Date(e).getMonth()===t.getMonth()&&new Date(e).getFullYear()===t.getFullYear()},a=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=new Date(e),a={month:"short",day:"numeric"};return t&&s(r)&&(a={hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat("en-US",a).format(new Date(e))},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")},o=(e,t)=>{let r;if(!e)return e;let s=t.fns.cardType(e),a=n(e);switch(s){case"amex":r="".concat(a.slice(0,4)," ").concat(a.slice(4,10)," ").concat(a.slice(10,15));break;case"dinersclub":r="".concat(a.slice(0,4)," ").concat(a.slice(4,10)," ").concat(a.slice(10,14));break;default:r="".concat(a.slice(0,4)," ").concat(a.slice(4,8)," ").concat(a.slice(8,12)," ").concat(a.slice(12,19))}return r.trim()},i=e=>{let t=e.replace(/^([1-9]\/|[2-9])$/g,"0$1/").replace(/^(0[1-9]|1[0-2])$/g,"$1/").replace(/^([0-1])([3-9])$/g,"0$1/$2").replace(/^(0?[1-9]|1[0-2])([0-9]{2})$/g,"$1/$2").replace(/^([0]+)\/|[0]+$/g,"0").replace(/[^\d\/]|^[\/]*$/g,"").replace(/\/\//g,"/");return t},l=(e,t,r)=>{let s=n(e),a=r.fns.cardType(t);return s.slice(0,"amex"===a?4:3)}},77228:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ee}});var s=r(85893),a=r(67294),n=r(87357),o=r(2734),i=r(98396),l=r(9473),c=r(60273),d=r(28756),x=r(12470),h=r(34167),p=r(11163),u=r(78462),m=r(87918),g=r(90263),b=r(58826),j=r(87952),f=r(19294),Z=r(50135),y=r(93946),v=r(15861),w=r(59334),C=r(18987),P=r(98619),k=r(87109),S=r(51964),R=r.n(S),z=r(79878),T=r(42563),I=r(10410),N=r(49033),D=r(11057),M=r(72852),O=r(68061),W=r(48885),L=r(50480),_=r(90934);let A=e=>{let{store:t,hidden:r,statusObj:o,userStatus:i,sidebarWidth:l,setUserStatus:c,userProfileLeftOpen:d,handleUserProfileLeftSidebarToggle:x}=e,h=e=>{c(e.target.value)},p=e=>{let{children:t}=e;return r?(0,s.jsx)(n.Z,{sx:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,s.jsx)(R(),{options:{wheelPropagation:!1},children:t})};return(0,s.jsx)(_.Z,{show:d,backDropClick:x,sx:{zIndex:9,height:"100%",width:l,borderTopLeftRadius:e=>e.shape.borderRadius,borderBottomLeftRadius:e=>e.shape.borderRadius,"& + .MuiBackdrop-root":{zIndex:8,borderRadius:1}},children:t&&t.userProfile?(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(y.Z,{size:"small",onClick:x,sx:{top:"0.5rem",right:"0.5rem",position:"absolute",color:"text.disabled"},children:(0,s.jsx)(z.Z,{icon:"tabler:x"})}),(0,s.jsxs)(n.Z,{sx:{display:"flex",flexDirection:"column",p:e=>e.spacing(11.25,6,4.5)},children:[(0,s.jsx)(n.Z,{sx:{mb:3.5,display:"flex",justifyContent:"center"},children:(0,s.jsx)(g.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,s.jsx)(n.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",color:"".concat(o[i],".main"),backgroundColor:"".concat(o[i],".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper)}}),children:(0,s.jsx)(j.Z,{sx:{width:80,height:80},src:t.userProfile.avatar,alt:t.userProfile.fullName})})}),(0,s.jsx)(v.Z,{variant:"h6",sx:{textAlign:"center"},children:t.userProfile.fullName}),(0,s.jsx)(v.Z,{sx:{textAlign:"center",color:"text.secondary",textTransform:"capitalize"},children:t.userProfile.role})]}),(0,s.jsx)(n.Z,{sx:{height:"calc(100% - 13.3125rem)"},children:(0,s.jsx)(p,{children:(0,s.jsxs)(n.Z,{sx:{p:6},children:[(0,s.jsx)(v.Z,{variant:"body2",sx:{mb:3.5,color:"text.disabled",textTransform:"uppercase"},children:"About"}),(0,s.jsx)(Z.Z,{minRows:4,multiline:!0,fullWidth:!0,sx:{mb:6},defaultValue:t.userProfile.about}),(0,s.jsx)(v.Z,{variant:"body2",sx:{mb:3.5,color:"text.disabled",textTransform:"uppercase"},children:"Status"}),(0,s.jsxs)(O.Z,{value:i,sx:{mb:6,ml:.8},onChange:h,children:[(0,s.jsx)("div",{children:(0,s.jsx)(L.Z,{value:"online",label:"Online",control:(0,s.jsx)(N.Z,{color:"success",sx:{p:1.5}})})}),(0,s.jsx)("div",{children:(0,s.jsx)(L.Z,{value:"away",label:"Away",control:(0,s.jsx)(N.Z,{color:"warning",sx:{p:1.5}})})}),(0,s.jsx)("div",{children:(0,s.jsx)(L.Z,{value:"busy",label:"Do not Disturb",control:(0,s.jsx)(N.Z,{color:"error",sx:{p:1.5}})})}),(0,s.jsx)("div",{children:(0,s.jsx)(L.Z,{value:"offline",label:"Offline",control:(0,s.jsx)(N.Z,{color:"secondary",sx:{p:1.5}})})})]}),(0,s.jsx)(v.Z,{variant:"body2",sx:{mb:3.5,color:"text.disabled",textTransform:"uppercase"},children:"Settings"}),(0,s.jsxs)(u.Z,{dense:!0,sx:{p:0,mb:3.5},children:[(0,s.jsx)(f.ZP,{disablePadding:!0,secondaryAction:(0,s.jsx)(M.Z,{}),children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2,color:"text.primary"},children:(0,s.jsx)(z.Z,{icon:"tabler:message-dots"})}),(0,s.jsx)(w.Z,{primary:"Two-step Verification",primaryTypographyProps:{variant:"body1"}})]})}),(0,s.jsx)(f.ZP,{disablePadding:!0,secondaryAction:(0,s.jsx)(M.Z,{defaultChecked:!0}),children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2,color:"text.primary"},children:(0,s.jsx)(z.Z,{icon:"tabler:bell"})}),(0,s.jsx)(w.Z,{primary:"Notification",primaryTypographyProps:{variant:"body1"}})]})}),(0,s.jsx)(f.ZP,{disablePadding:!0,children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2,color:"text.primary"},children:(0,s.jsx)(z.Z,{icon:"tabler:user-plus"})}),(0,s.jsx)(w.Z,{primary:"Invite Friends",primaryTypographyProps:{variant:"body1"}})]})}),(0,s.jsx)(f.ZP,{disablePadding:!0,children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2,color:"text.primary"},children:(0,s.jsx)(z.Z,{icon:"tabler:trash"})}),(0,s.jsx)(w.Z,{primary:"Delete Account",primaryTypographyProps:{variant:"body1"}})]})})]}),(0,s.jsx)(D.Z,{variant:"contained",children:"Logout"})]})})})]}):null})},E=e=>{let{children:t,hidden:r}=e;return r?(0,s.jsx)(n.Z,{sx:{height:"100%",overflow:"auto"},children:t}):(0,s.jsx)(R(),{options:{wheelPropagation:!1},children:t})},F=e=>{let{store:t,hidden:r,mdAbove:o,dispatch:i,statusObj:l,userStatus:c,selectChat:d,getInitials:x,sidebarWidth:h,setUserStatus:S,leftSidebarOpen:R,removeSelectedChat:N,userProfileLeftOpen:D,formatDateToMonthShort:M,handleLeftSidebarToggle:O,handleUserProfileLeftSidebarToggle:W}=e,[L,_]=(0,a.useState)(""),[F,B]=(0,a.useState)([]),[$,U]=(0,a.useState)([]),[Y,X]=(0,a.useState)(null),H=(0,p.useRouter)(),G=(e,t)=>{i(d(t)),X({type:e,id:t}),o||O()};(0,a.useEffect)(()=>{t&&t.chats&&null!==Y&&"contact"===Y.type&&Y.id===t.chats[0].id&&X({type:"chat",id:Y.id})},[t,Y]),(0,a.useEffect)(()=>(H.events.on("routeChangeComplete",()=>{X(null),i(N())}),()=>{X(null),i(N())}),[]);let Q=e=>{if(null!==t.chats){let r=t.chats.filter(t=>t.id===e);return!!r.length}},V=e=>{if(_(e.target.value),null!==t.chats&&null!==t.contacts){let r=t=>t.fullName.toLowerCase().includes(e.target.value.toLowerCase()),s=t.chats.filter(r),a=t.contacts.filter(r);B(s),U(a)}};return(0,s.jsxs)("div",{children:[(0,s.jsxs)(b.ZP,{open:R,onClose:O,variant:o?"permanent":"temporary",ModalProps:{disablePortal:!0,keepMounted:!0},sx:{zIndex:7,height:"100%",display:"block",position:o?"static":"absolute","& .MuiDrawer-paper":{boxShadow:"none",width:h,position:o?"static":"absolute",borderTopLeftRadius:e=>e.shape.borderRadius,borderBottomLeftRadius:e=>e.shape.borderRadius},"& > .MuiBackdrop-root":{borderRadius:1,position:"absolute",zIndex:e=>e.zIndex.drawer-1}},children:[(0,s.jsxs)(n.Z,{sx:{py:3,px:5,display:"flex",alignItems:"center",borderBottom:e=>"1px solid ".concat(e.palette.divider)},children:[t&&t.userProfile?(0,s.jsx)(g.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{mr:3},onClick:W,badgeContent:(0,s.jsx)(n.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(l[c],".main"),backgroundColor:"".concat(l[c],".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper)}}),children:(0,s.jsx)(j.Z,{src:t.userProfile.avatar,alt:t.userProfile.fullName,sx:{width:"2.375rem",height:"2.375rem",cursor:"pointer"}})}):null,(0,s.jsx)(Z.Z,{fullWidth:!0,size:"small",value:L,onChange:V,placeholder:"Search for contact...",sx:{"& .MuiInputBase-root":{borderRadius:5}},InputProps:{startAdornment:(0,s.jsx)(k.Z,{position:"start",sx:{color:"text.secondary"},children:(0,s.jsx)(z.Z,{icon:"tabler:search",fontSize:20})})}}),o?null:(0,s.jsx)(y.Z,{sx:{p:1,ml:1},onClick:O,children:(0,s.jsx)(z.Z,{icon:"tabler:x"})})]}),(0,s.jsx)(n.Z,{sx:{height:"calc(100% - 4.0625rem)"},children:(0,s.jsx)(E,{hidden:r,children:(0,s.jsxs)(n.Z,{sx:{p:e=>e.spacing(5,3,3)},children:[(0,s.jsx)(v.Z,{variant:"h6",sx:{ml:3,mb:3.5,color:"primary.main"},children:"Chats"}),(0,s.jsx)(u.Z,{sx:{mb:5,p:0},children:(()=>{if(t&&t.chats&&t.chats.length){if(L.length&&!F.length)return(0,s.jsx)(f.ZP,{children:(0,s.jsx)(v.Z,{sx:{color:"text.secondary"},children:"No Chats Found"})});{let e=L.length&&F.length?F:t.chats;return e.map((e,t)=>{let{lastMessage:r}=e.chat,a=null!==Y&&Y.id===e.id&&"chat"===Y.type;return(0,s.jsx)(f.ZP,{disablePadding:!0,sx:{"&:not(:last-child)":{mb:1}},children:(0,s.jsxs)(P.Z,{disableRipple:!0,onClick:()=>G("chat",e.id),sx:{py:2,px:3,width:"100%",borderRadius:1,alignItems:"flex-start",...a&&{background:e=>"linear-gradient(72.47deg, ".concat(e.palette.primary.main," 22.16%, ").concat((0,T.E)(e.palette.primary.main,.7)," 76.47%) !important")}},children:[(0,s.jsx)(C.Z,{sx:{m:0,alignSelf:"center"},children:(0,s.jsx)(g.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,s.jsx)(n.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(l[e.status],".main"),backgroundColor:"".concat(l[e.status],".main"),boxShadow:e=>"0 0 0 2px ".concat(a?e.palette.common.white:e.palette.background.paper)}}),children:e.avatar?(0,s.jsx)(j.Z,{src:e.avatar,alt:e.fullName,sx:{width:38,height:38,outline:e=>"2px solid ".concat(a?e.palette.common.white:"transparent")}}):(0,s.jsx)(I.Z,{color:e.avatarColor,skin:a?"light-static":"light",sx:{width:38,height:38,fontSize:"1rem",outline:e=>"2px solid ".concat(a?e.palette.common.white:"transparent")},children:x(e.fullName)})})}),(0,s.jsx)(w.Z,{sx:{my:0,ml:3,mr:1.5,"& .MuiTypography-root":{...a&&{color:"common.white"}}},primary:(0,s.jsx)(v.Z,{noWrap:!0,sx:{fontWeight:500},children:e.fullName}),secondary:(0,s.jsx)(v.Z,{noWrap:!0,sx:{...!a&&{color:"text.secondary"}},children:r?r.message:null})}),(0,s.jsxs)(n.Z,{sx:{display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"flex-start"},children:[(0,s.jsx)(v.Z,{variant:"body2",sx:{whiteSpace:"nowrap",color:a?"common.white":"text.disabled"},children:(0,s.jsx)(s.Fragment,{children:r?M(r.time,!0):new Date})}),e.chat.unseenMsgs&&e.chat.unseenMsgs>0?(0,s.jsx)(m.Z,{color:"error",label:e.chat.unseenMsgs,sx:{mt:.5,height:18,fontWeight:600,fontSize:"0.75rem","& .MuiChip-label":{pt:.25,px:1.655}}}):null]})]})},t)})}}})()}),(0,s.jsx)(v.Z,{variant:"h6",sx:{ml:3,mb:3.5,color:"primary.main"},children:"Contacts"}),(0,s.jsx)(u.Z,{sx:{p:0},children:(()=>{if(t&&t.chats&&t.chats.length){if(L.length&&!$.length)return(0,s.jsx)(f.ZP,{children:(0,s.jsx)(v.Z,{sx:{color:"text.secondary"},children:"No Contacts Found"})});{let e=L.length&&$.length?$:t.contacts;return null!==e?e.map((e,t)=>{let r=null!==Y&&Y.id===e.id&&"contact"===Y.type&&!Q(e.id);return(0,s.jsx)(f.ZP,{disablePadding:!0,sx:{"&:not(:last-child)":{mb:1}},children:(0,s.jsxs)(P.Z,{disableRipple:!0,onClick:()=>G(Q(e.id)?"chat":"contact",e.id),sx:{py:2,px:3,width:"100%",borderRadius:1,...r&&{background:e=>"linear-gradient(72.47deg, ".concat(e.palette.primary.main," 22.16%, ").concat((0,T.E)(e.palette.primary.main,.7)," 76.47%) !important")}},children:[(0,s.jsx)(C.Z,{sx:{m:0},children:e.avatar?(0,s.jsx)(j.Z,{alt:e.fullName,src:e.avatar,sx:{width:38,height:38,outline:e=>"2px solid ".concat(r?e.palette.common.white:"transparent")}}):(0,s.jsx)(I.Z,{color:e.avatarColor,skin:r?"light-static":"light",sx:{width:38,height:38,fontSize:"1rem",outline:e=>"2px solid ".concat(r?e.palette.common.white:"transparent")},children:x(e.fullName)})}),(0,s.jsx)(w.Z,{sx:{my:0,ml:3,...r&&{"& .MuiTypography-root":{color:"common.white"}}},primary:(0,s.jsx)(v.Z,{sx:{fontWeight:500},children:e.fullName}),secondary:(0,s.jsx)(v.Z,{noWrap:!0,sx:{...!r&&{color:"text.secondary"}},children:e.about})})]})},t)}):null}}})()})]})})})]}),(0,s.jsx)(A,{store:t,hidden:r,statusObj:l,userStatus:c,sidebarWidth:h,setUserStatus:S,userProfileLeftOpen:D,handleUserProfileLeftSidebarToggle:W})]})};var B=r(90948);let $=(0,B.ZP)(R())(e=>{let{theme:t}=e;return{padding:t.spacing(5)}}),U=e=>{let{data:t,hidden:r}=e,o=(0,a.useRef)(null),i=()=>{o.current&&(r?o.current.scrollTop=o.current.scrollHeight:o.current._container.scrollTop=o.current._container.scrollHeight)},l=()=>{let e=[];t.chat&&(e=t.chat.chat);let r=[],s=e[0]?e[0].senderId:11,a={senderId:s,messages:[]};return e.forEach((t,n)=>{s===t.senderId?a.messages.push({time:t.time,msg:t.message,feedback:t.feedback}):(s=t.senderId,r.push(a),a={senderId:t.senderId,messages:[{time:t.time,msg:t.message,feedback:t.feedback}]}),n===e.length-1&&r.push(a)}),r},c=(e,t)=>{if(e)return t.isSent&&!t.isDelivered?(0,s.jsx)(n.Z,{component:"span",sx:{display:"flex","& svg":{mr:1.5,color:"text.secondary"}},children:(0,s.jsx)(z.Z,{icon:"tabler:check",fontSize:"1.125rem"})}):t.isSent&&t.isDelivered?(0,s.jsx)(n.Z,{component:"span",sx:{display:"flex","& svg":{mr:1.5,color:t.isSeen?"success.main":"text.secondary"}},children:(0,s.jsx)(z.Z,{icon:"tabler:checks",fontSize:"1.125rem"})}):null};(0,a.useEffect)(()=>{t&&t.chat&&t.chat.chat.length&&i()},[t]);let d=e=>{let{children:t}=e;return r?(0,s.jsx)(n.Z,{ref:o,sx:{p:5,height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,s.jsx)($,{ref:o,options:{wheelPropagation:!1},children:t})};return(0,s.jsx)(n.Z,{sx:{height:"calc(100% - 8.9375rem)"},children:(0,s.jsx)(d,{children:l().map((e,r)=>{let a=e.senderId===t.userContact.id;return(0,s.jsxs)(n.Z,{sx:{display:"flex",flexDirection:a?"row-reverse":"row",mb:r!==l().length-1?4:void 0},children:[(0,s.jsx)("div",{children:(0,s.jsx)(I.Z,{skin:"light",color:t.contact.avatarColor?t.contact.avatarColor:void 0,sx:{width:32,height:32,fontSize:"1rem",ml:a?3:void 0,mr:a?void 0:3},...t.contact.avatar&&!a?{src:t.contact.avatar,alt:t.contact.fullName}:{},...a?{src:t.userContact.avatar,alt:t.userContact.fullName}:{},children:t.contact.avatarColor?(0,x.Q)(t.contact.fullName):null})}),(0,s.jsx)(n.Z,{className:"chat-body",sx:{maxWidth:["calc(100% - 5.75rem)","75%","65%"]},children:e.messages.map((e,t,r)=>{let{length:o}=r,i=new Date(e.time);return(0,s.jsxs)(n.Z,{sx:{"&:not(:last-of-type)":{mb:3}},children:[(0,s.jsx)("div",{children:(0,s.jsx)(v.Z,{sx:{boxShadow:1,borderRadius:1,maxWidth:"100%",width:"fit-content",wordWrap:"break-word",p:e=>e.spacing(2.25,4),ml:a?"auto":void 0,borderTopLeftRadius:a?void 0:0,borderTopRightRadius:a?0:void 0,color:a?"common.white":"text.primary",backgroundColor:a?"primary.main":"background.paper"},children:e.msg})}),t+1===o?(0,s.jsxs)(n.Z,{sx:{mt:1,display:"flex",alignItems:"center",justifyContent:a?"flex-end":"flex-start"},children:[c(a,e.feedback),(0,s.jsx)(v.Z,{variant:"body2",sx:{color:"text.disabled"},children:i?new Date(i).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):null})]}):null]},t)})})]},r)})})})},Y=(0,B.ZP)(n.Z)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",padding:t.spacing(2.5),boxShadow:t.shadows[1],justifyContent:"space-between",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper}}),X=(0,B.ZP)("form")(e=>{let{theme:t}=e;return{padding:t.spacing(0,5,5)}}),H=e=>{let{store:t,dispatch:r,sendMsg:o}=e,[i,l]=(0,a.useState)(""),c=e=>{e.preventDefault(),t&&t.selectedChat&&i.trim().length&&r(o({...t.selectedChat,message:i})),l("")};return(0,s.jsx)(X,{onSubmit:c,children:(0,s.jsxs)(Y,{children:[(0,s.jsx)(n.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,s.jsx)(Z.Z,{fullWidth:!0,value:i,size:"small",placeholder:"Type your message hereâ€¦",onChange:e=>l(e.target.value),sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused":{boxShadow:"none"}},"& .MuiOutlinedInput-input":{p:e=>e.spacing(1.875,2.5)},"& fieldset":{border:"0 !important"}}})}),(0,s.jsxs)(n.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(y.Z,{size:"small",sx:{color:"text.primary"},children:(0,s.jsx)(z.Z,{icon:"tabler:microphone"})}),(0,s.jsxs)(y.Z,{size:"small",component:"label",htmlFor:"upload-img",sx:{mr:3,color:"text.primary"},children:[(0,s.jsx)(z.Z,{icon:"tabler:photo"}),(0,s.jsx)("input",{hidden:!0,type:"file",id:"upload-img"})]}),(0,s.jsx)(D.Z,{type:"submit",variant:"contained",children:"Send"})]})]})})};var G=r(6834),Q=r(53457);let V=e=>{let{store:t,hidden:r,statusObj:o,getInitials:i,sidebarWidth:l,userProfileRightOpen:c,handleUserProfileRightSidebarToggle:d}=e,x=e=>{let{children:t}=e;return r?(0,s.jsx)(n.Z,{sx:{height:"100%",overflowY:"auto",overflowX:"hidden"},children:t}):(0,s.jsx)(R(),{options:{wheelPropagation:!1},children:t})};return(0,s.jsx)(_.Z,{direction:"right",show:c,backDropClick:d,sx:{zIndex:9,height:"100%",width:l,borderTopRightRadius:e=>e.shape.borderRadius,borderBottomRightRadius:e=>e.shape.borderRadius,"& + .MuiBackdrop-root":{zIndex:8,borderRadius:1}},children:t&&t.selectedChat?(0,s.jsxs)(a.Fragment,{children:[(0,s.jsxs)(n.Z,{sx:{position:"relative"},children:[(0,s.jsx)(y.Z,{size:"small",onClick:d,sx:{top:"0.5rem",right:"0.5rem",position:"absolute",color:"text.disabled"},children:(0,s.jsx)(z.Z,{icon:"tabler:x"})}),(0,s.jsxs)(n.Z,{sx:{display:"flex",flexDirection:"column",p:e=>e.spacing(11.25,6,4.5)},children:[(0,s.jsx)(n.Z,{sx:{mb:3.5,display:"flex",justifyContent:"center"},children:(0,s.jsx)(g.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,s.jsx)(n.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",color:"".concat(o[t.selectedChat.contact.status],".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper),backgroundColor:"".concat(o[t.selectedChat.contact.status],".main")}}),children:t.selectedChat.contact.avatar?(0,s.jsx)(j.Z,{sx:{width:"5rem",height:"5rem"},src:t.selectedChat.contact.avatar,alt:t.selectedChat.contact.fullName}):(0,s.jsx)(I.Z,{skin:"light",color:t.selectedChat.contact.avatarColor,sx:{width:"5rem",height:"5rem",fontWeight:500,fontSize:"2rem"},children:i(t.selectedChat.contact.fullName)})})}),(0,s.jsx)(v.Z,{variant:"h6",sx:{textAlign:"center"},children:t.selectedChat.contact.fullName}),(0,s.jsx)(v.Z,{sx:{textAlign:"center",color:"text.secondary"},children:t.selectedChat.contact.role})]})]}),(0,s.jsx)(n.Z,{sx:{height:"calc(100% - 13.3125rem)"},children:(0,s.jsx)(x,{children:(0,s.jsxs)(n.Z,{sx:{p:6},children:[(0,s.jsxs)(Q.Z,{sx:{mb:6.5},children:[(0,s.jsx)(v.Z,{variant:"body2",sx:{mb:3.5,color:"text.disabled",textTransform:"uppercase"},children:"About"}),(0,s.jsx)(v.Z,{sx:{color:"text.secondary"},children:t.selectedChat.contact.about})]}),(0,s.jsxs)(n.Z,{sx:{mb:6},children:[(0,s.jsx)(v.Z,{variant:"body2",sx:{mb:3.5,color:"text.disabled",textTransform:"uppercase"},children:"Personal Information"}),(0,s.jsxs)(u.Z,{dense:!0,sx:{p:0},children:[(0,s.jsxs)(f.ZP,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:mail",fontSize:"1.5rem"})}),(0,s.jsx)(w.Z,{sx:{textTransform:"lowercase"},primaryTypographyProps:{variant:"body1"},primary:"".concat(t.selectedChat.contact.fullName.replace(/\s/g,"_"),"@email.com")})]}),(0,s.jsxs)(f.ZP,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:phone-call",fontSize:"1.5rem"})}),(0,s.jsx)(w.Z,{primaryTypographyProps:{variant:"body1"},primary:"+1(123) 456 - 7890"})]}),(0,s.jsxs)(f.ZP,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:clock",fontSize:"1.5rem"})}),(0,s.jsx)(w.Z,{primaryTypographyProps:{variant:"body1"},primary:"Mon - Fri 10AM - 8PM"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(v.Z,{variant:"body2",sx:{mb:3.5,color:"text.disabled",textTransform:"uppercase"},children:"Options"}),(0,s.jsxs)(u.Z,{dense:!0,sx:{p:0},children:[(0,s.jsx)(f.ZP,{disablePadding:!0,children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:badge",fontSize:"1.5rem"})}),(0,s.jsx)(w.Z,{primary:"Add Tag",primaryTypographyProps:{variant:"body1"}})]})}),(0,s.jsx)(f.ZP,{disablePadding:!0,children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:star",fontSize:"1.5rem"})}),(0,s.jsx)(w.Z,{primary:"Important Contact",primaryTypographyProps:{variant:"body1"}})]})}),(0,s.jsx)(f.ZP,{disablePadding:!0,children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:photo",fontSize:"1.5rem"})}),(0,s.jsx)(w.Z,{primary:"Shared Media",primaryTypographyProps:{variant:"body1"}})]})}),(0,s.jsx)(f.ZP,{disablePadding:!0,children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:trash",fontSize:"1.5rem"})}),(0,s.jsx)(w.Z,{primary:"Delete Contact",primaryTypographyProps:{variant:"body1"}})]})}),(0,s.jsx)(f.ZP,{disablePadding:!0,children:(0,s.jsxs)(P.Z,{sx:{px:2},children:[(0,s.jsx)(W.Z,{sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:ban",fontSize:"1.5rem"})}),(0,s.jsx)(w.Z,{primary:"Block Contact",primaryTypographyProps:{variant:"body1"}})]})})]})]})]})})})]}):null})},q=(0,B.ZP)(n.Z)(e=>{let{theme:t}=e;return{flexGrow:1,height:"100%",display:"flex",borderRadius:1,alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:t.palette.action.hover}}),J=e=>{let{store:t,hidden:r,sendMsg:o,mdAbove:i,dispatch:l,statusObj:c,getInitials:d,sidebarWidth:x,userProfileRightOpen:h,handleLeftSidebarToggle:p,handleUserProfileRightSidebarToggle:u}=e,m=()=>{i||p()};return(()=>{if(!t)return null;{let e=t.selectedChat;return e?(0,s.jsxs)(n.Z,{sx:{width:0,flexGrow:1,height:"100%",backgroundColor:"action.hover"},children:[(0,s.jsxs)(n.Z,{sx:{py:2,px:5,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"background.paper",borderBottom:e=>"1px solid ".concat(e.palette.divider)},children:[(0,s.jsxs)(n.Z,{sx:{display:"flex",alignItems:"center"},children:[i?null:(0,s.jsx)(y.Z,{onClick:p,sx:{mr:2},children:(0,s.jsx)(z.Z,{icon:"tabler:menu-2"})}),(0,s.jsxs)(n.Z,{onClick:u,sx:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,s.jsx)(g.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{mr:3},badgeContent:(0,s.jsx)(n.Z,{component:"span",sx:{width:8,height:8,borderRadius:"50%",color:"".concat(c[e.contact.status],".main"),boxShadow:e=>"0 0 0 2px ".concat(e.palette.background.paper),backgroundColor:"".concat(c[e.contact.status],".main")}}),children:e.contact.avatar?(0,s.jsx)(j.Z,{sx:{width:38,height:38},src:e.contact.avatar,alt:e.contact.fullName}):(0,s.jsx)(I.Z,{skin:"light",color:e.contact.avatarColor,sx:{width:38,height:38,fontSize:"1rem"},children:d(e.contact.fullName)})}),(0,s.jsxs)(n.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,s.jsx)(v.Z,{sx:{fontWeight:500},children:e.contact.fullName}),(0,s.jsx)(v.Z,{sx:{color:"text.disabled"},children:e.contact.role})]})]})]}),(0,s.jsxs)(n.Z,{sx:{display:"flex",alignItems:"center"},children:[i?(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(y.Z,{size:"small",sx:{color:"text.secondary"},children:(0,s.jsx)(z.Z,{icon:"tabler:phone-call"})}),(0,s.jsx)(y.Z,{size:"small",sx:{color:"text.secondary"},children:(0,s.jsx)(z.Z,{icon:"tabler:video"})}),(0,s.jsx)(y.Z,{size:"small",sx:{color:"text.secondary"},children:(0,s.jsx)(z.Z,{icon:"tabler:search"})})]}):null,(0,s.jsx)(G.Z,{menuProps:{sx:{mt:2}},icon:(0,s.jsx)(z.Z,{icon:"tabler:dots-vertical"}),iconButtonProps:{size:"small",sx:{color:"text.secondary"}},options:["View Contact","Mute Notifications","Block Contact","Clear Chat","Report"]})]})]}),e&&t.userProfile?(0,s.jsx)(U,{hidden:r,data:{...e,userContact:t.userProfile}}):null,(0,s.jsx)(H,{store:t,dispatch:l,sendMsg:o}),(0,s.jsx)(V,{store:t,hidden:r,statusObj:c,getInitials:d,sidebarWidth:x,userProfileRightOpen:h,handleUserProfileRightSidebarToggle:u})]}):(0,s.jsxs)(q,{sx:{...i?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:{}},children:[(0,s.jsx)(j.Z,{sx:{mb:6,pt:8,pb:7,px:7.5,width:110,height:110,boxShadow:3,backgroundColor:"background.paper"},children:(0,s.jsx)(z.Z,{icon:"tabler:message",fontSize:"3.125rem"})}),(0,s.jsx)(n.Z,{onClick:m,sx:{py:2,px:6,boxShadow:3,borderRadius:5,backgroundColor:"background.paper",cursor:i?"default":"pointer"},children:(0,s.jsx)(v.Z,{sx:{fontWeight:500,fontSize:"1.125rem",lineHeight:"normal"},children:"Start Conversation"})})]})}})()},K=()=>{let[e,t]=(0,a.useState)("online"),[r,p]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),j=(0,o.Z)(),{settings:f}=(0,d.r)(),Z=(0,l.I0)(),y=(0,i.Z)(j.breakpoints.down("lg")),v=(0,l.v9)(e=>e.chat),{skin:w}=f,C=(0,i.Z)(j.breakpoints.up("sm")),P=C?360:300,k=(0,i.Z)(j.breakpoints.up("md")),S={busy:"error",away:"warning",online:"success",offline:"secondary"};(0,a.useEffect)(()=>{Z((0,c.YI)()),Z((0,c.Pu)())},[Z]);let R=()=>p(!r),z=()=>m(!u),T=()=>b(!g);return(0,s.jsxs)(n.Z,{className:"app-chat",sx:{width:"100%",display:"flex",borderRadius:1,overflow:"hidden",position:"relative",backgroundColor:"background.paper",boxShadow:"bordered"===w?0:6,..."bordered"===w&&{border:"1px solid ".concat(j.palette.divider)}},children:[(0,s.jsx)(F,{store:v,hidden:y,mdAbove:k,dispatch:Z,statusObj:S,userStatus:e,selectChat:c.Z1,getInitials:x.Q,sidebarWidth:P,setUserStatus:t,leftSidebarOpen:r,removeSelectedChat:c.sr,userProfileLeftOpen:u,formatDateToMonthShort:h.oS,handleLeftSidebarToggle:R,handleUserProfileLeftSidebarToggle:z}),(0,s.jsx)(J,{store:v,hidden:y,sendMsg:c.g_,mdAbove:k,dispatch:Z,statusObj:S,getInitials:x.Q,sidebarWidth:P,userProfileRightOpen:g,handleLeftSidebarToggle:R,handleUserProfileRightSidebarToggle:T})]})};K.contentHeightFixed=!0;var ee=K}},function(e){e.O(0,[1989,3335,9774,2888,179],function(){return e(e.s=42427)}),_N_E=e.O()}]);