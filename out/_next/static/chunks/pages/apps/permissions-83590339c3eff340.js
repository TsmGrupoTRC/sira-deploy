(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5415],{53132:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/permissions",function(){return s(97779)}])},46762:function(e,n,s){"use strict";var t=s(85893),i=s(86886);let a=e=>{let{title:n,subtitle:s}=e;return(0,t.jsxs)(i.ZP,{item:!0,xs:12,children:[n,s||null]})};n.Z=a},97779:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return k}});var t=s(85893),i=s(67294),a=s(87357),r=s(66242),l=s(86886),o=s(46901),c=s(11057),d=s(64666),m=s(69368),x=s(53457),p=s(50135),h=s(93946),u=s(15861),g=s(92401),j=s(37645),Z=s(6514),f=s(77097),b=s(50480),y=s(79878),v=s(9473),w=s(95600),C=s(46762);let P=e=>{let{value:n,handleFilter:s}=e,[r,l]=(0,i.useState)(!1),o=()=>l(!r),x=e=>{l(!1),e.preventDefault()};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Z,{sx:{p:5,pb:3,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsx)(p.Z,{size:"small",value:n,sx:{mr:4,mb:2},placeholder:"Search Permission",onChange:e=>s(e.target.value)}),(0,t.jsx)(c.Z,{sx:{mb:2},variant:"contained",onClick:o,children:"Add Permission"})]}),(0,t.jsxs)(d.Z,{fullWidth:!0,maxWidth:"sm",onClose:o,open:r,children:[(0,t.jsxs)(j.Z,{sx:{textAlign:"center",px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")],pt:e=>["".concat(e.spacing(8)," !important"),"".concat(e.spacing(12.5)," !important")]},children:[(0,t.jsx)(u.Z,{variant:"h5",component:"span",sx:{mb:2},children:"Add New Permission"}),(0,t.jsx)(u.Z,{variant:"body2",children:"Permissions you may use and assign to your users."})]}),(0,t.jsx)(Z.Z,{sx:{px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")],pb:e=>["".concat(e.spacing(8)," !important"),"".concat(e.spacing(12.5)," !important")]},children:(0,t.jsxs)(a.Z,{component:"form",onSubmit:e=>x(e),sx:{mt:4,mx:"auto",width:"100%",maxWidth:360,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,t.jsx)(p.Z,{fullWidth:!0,sx:{mb:1},label:"Permission Name",placeholder:"Enter Permission Name"}),(0,t.jsx)(a.Z,{sx:{width:"100%",display:"flex"},children:(0,t.jsx)(b.Z,{control:(0,t.jsx)(m.Z,{}),label:"Set as core permission"})}),(0,t.jsxs)(a.Z,{className:"demo-space-x",sx:{"& > :last-child":{mr:"0 !important"}},children:[(0,t.jsx)(c.Z,{size:"large",type:"submit",variant:"contained",children:"Create Permission"}),(0,t.jsx)(c.Z,{type:"reset",size:"large",variant:"outlined",color:"secondary",onClick:o,children:"Discard"})]})]})})]})]})};var N=s(4215);let W={support:"info",users:"success",manager:"warning",administrator:"primary","restricted-user":"error"},S=[{flex:.25,field:"name",minWidth:240,headerName:"Name",renderCell:e=>{let{row:n}=e;return(0,t.jsx)(u.Z,{sx:{color:"text.secondary"},children:n.name})}},{flex:.35,minWidth:290,field:"assignedTo",headerName:"Assigned To",renderCell:e=>{let{row:n}=e;return n.assignedTo.map((e,n)=>(0,t.jsx)(w.Z,{rounded:!0,size:"small",skin:"light",color:W[e],label:e.replace("-"," "),sx:{"& .MuiChip-label":{textTransform:"capitalize"},"&:not(:last-of-type)":{mr:3}}},n))}},{flex:.25,minWidth:210,field:"createdDate",headerName:"Created Date",renderCell:e=>{let{row:n}=e;return(0,t.jsx)(u.Z,{sx:{color:"text.secondary"},children:n.createdDate})}}],_=()=>{let[e,n]=(0,i.useState)(""),[s,w]=(0,i.useState)(""),[W,_]=(0,i.useState)(!1),[k,E]=(0,i.useState)({page:0,pageSize:10}),z=(0,v.I0)(),D=(0,v.v9)(e=>e.permissions);(0,i.useEffect)(()=>{z((0,N.rQ)({q:e}))},[z,e]);let A=(0,i.useCallback)(e=>{n(e)},[]),T=e=>{w(e),_(!0)},I=()=>_(!W),O=e=>{_(!1),e.preventDefault()},B=[...S,{flex:.15,minWidth:120,sortable:!1,field:"actions",headerName:"Actions",renderCell:e=>{let{row:n}=e;return(0,t.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(h.Z,{onClick:()=>T(n.name),children:(0,t.jsx)(y.Z,{icon:"tabler:edit"})}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(y.Z,{icon:"tabler:trash"})})]})}}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(l.ZP,{item:!0,xs:12,children:(0,t.jsx)(C.Z,{title:(0,t.jsx)(u.Z,{variant:"h5",sx:{mb:6},children:"Permissions List"}),subtitle:(0,t.jsx)(u.Z,{sx:{color:"text.secondary"},children:"Each category (Basic, Professional, and Business) includes the four predefined roles shown below."})})}),(0,t.jsx)(l.ZP,{item:!0,xs:12,children:(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(P,{value:e,handleFilter:A}),(0,t.jsx)(f._,{autoHeight:!0,rows:D.data,columns:B,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:k,onPaginationModelChange:E})]})})]}),(0,t.jsxs)(d.Z,{maxWidth:"sm",fullWidth:!0,onClose:I,open:W,children:[(0,t.jsxs)(j.Z,{sx:{textAlign:"center",px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")],pt:e=>["".concat(e.spacing(8)," !important"),"".concat(e.spacing(12.5)," !important")]},children:[(0,t.jsx)(u.Z,{variant:"h5",component:"span",sx:{mb:2},children:"Edit Permission"}),(0,t.jsx)(u.Z,{variant:"body2",children:"Edit permission as per your requirements."})]}),(0,t.jsxs)(Z.Z,{sx:{px:e=>["".concat(e.spacing(5)," !important"),"".concat(e.spacing(15)," !important")],pb:e=>["".concat(e.spacing(8)," !important"),"".concat(e.spacing(12.5)," !important")]},children:[(0,t.jsxs)(o.Z,{severity:"warning",sx:{maxWidth:"500px"},children:[(0,t.jsx)(g.Z,{children:"Warning!"}),"By editing the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding."]}),(0,t.jsxs)(a.Z,{component:"form",sx:{mt:8},onSubmit:O,children:[(0,t.jsxs)(x.Z,{sx:{mb:2,alignItems:"center",flexDirection:"row",flexWrap:["wrap","nowrap"]},children:[(0,t.jsx)(p.Z,{fullWidth:!0,size:"small",value:s,label:"Permission Name",sx:{mr:[0,4],mb:[3,0]},placeholder:"Enter Permission Name",onChange:e=>w(e.target.value)}),(0,t.jsx)(c.Z,{type:"submit",variant:"contained",children:"Update"})]}),(0,t.jsx)(b.Z,{control:(0,t.jsx)(m.Z,{}),label:"Set as core permission"})]})]})]})]})};var k=_}},function(e){e.O(0,[7693,4753,2739,9774,2888,179],function(){return e(e.s=53132)}),_N_E=e.O()}]);